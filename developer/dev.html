
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Developer Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial;
  background:#f4f6f8;
}
.box{
  max-width:400px;
  margin:40px auto;
  background:#fff;
  padding:20px;
  border-radius:10px;
}
input,button{
  width:100%;
  padding:10px;
  margin:8px 0;
}
button{
  background:#0d6efd;
  color:#fff;
  border:none;
}
</style>
</head>

<body>

<div class="box">
  <h3>Submit Game</h3>
  <input id="name" placeholder="Game Name">
  <input id="image" placeholder="Image URL">
  <input id="link" placeholder="Game Link">
  <input id="price" placeholder="Price">
  <button onclick="submitGame()">Submit</button>
</div>

<script type="module">
import { auth, db } from "../js/firebase.js";
import { onAuthStateChanged } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { addDoc, collection, serverTimestamp }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

/* LOGIN CHECK */
onAuthStateChanged(auth,(u)=>{
  if(!u) location.href="../login.html";
});

/* SUBMIT GAME */
window.submitGame = async()=>{
  await addDoc(collection(db,"games"),{
    name: name.value,
    image: image.value,
    link: link.value,
    price: price.value,
    status: "pending",
    createdAt: serverTimestamp()
  });
  alert("Game submitted, waiting for admin approval");
  name.value=image.value=link.value=price.value="";
}
</script>

</body>
</html>
