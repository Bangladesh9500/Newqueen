<script type="module">
import { initializeApp } from 
"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, getDocs, doc, updateDoc }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

initializeApp(firebaseConfig);
const db=getFirestore();

const q=await getDocs(collection(db,"withdraws"));
q.forEach(w=>{
 const d=w.data();
 if(d.status=="pending"){
  document.body.innerHTML+=`
   <div>
    UID: ${d.uid}<br>
    Amount: ${d.amount}<br>
    Wallet: ${d.wallet}<br>
    <button onclick="done('${w.id}')">Mark Paid</button>
   </div>`;
 }
});

window.done = async(id)=>{
 await updateDoc(doc(db,"withdraws",id),{status:"paid"});
 alert("Marked as paid");
 location.reload();
};
</script>